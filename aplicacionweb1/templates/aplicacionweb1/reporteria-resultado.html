<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">

<!-- Syles -->
<link rel=”hoja de estilo” href=”https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css”rel=”nofollow” integrity=”sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I” crossorigin=”anonymous”>
<!-- Load icon library -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="./resources/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="./resources/css/bootstrap-theme.css">
<link rel="stylesheet" type="text/css" href="./resources/css/style.page.css">
<!--link rel="stylesheet" href="./resources/flexboxgrid-6.3.1/css/flexboxgrid.min.css" type="text/css"-->

<!-- para el buscador -->
<link rel='stylesheet prefetch' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>
<link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.11.2/css/bootstrap-select.min.css'>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.3/js/bootstrap-select.min.js"></script>
<!--script src="js/bootstrap-table-pagination.js"></script-->
<!--script src="js/pagination.js"></script-->

<!-- En mi caso añado JQuery para tener más utilidades -->
<!--script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"></script>
<!-- Url del CDN donde está ubicada la librería -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
/*==================================================
 * left tab
 * ===============================================*/

/*
.no-gutters {
  margin-right: 0;
  margin-left: 0;

  > .col,
  > [class*="col-"] {
    padding-right: 0;
    padding-left: 0;
  }
}

*/
.espaciobotones {
 margin-right: 8px;
}

/*
table{
  table-layout: fixed;
}
*/

/*
#tabladetallevulnerabilidad th{
  width: 300px;
  overflow: auto;
  border: 1px solid;
}
*/



</style>

<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js" integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/" crossorigin="anonymous"></script>
<!--script src="./resources/js/jquery-2.1.1.min.js" type="text/javascript"></script>
<script src="./resources/js/bootstrap.min.js" type="text/javascript"></script>
<script src="./resources/js/jquery.tabletoCSV.js" type="text/javascript"></script-->
<script language="javascript">
//window.onload=start
window.onload=inicio
//window.onload=grafica

function inicio(){
        document.getElementById("tbgeneral").innerHTML="";
        document.getElementById("tbconfer").innerHTML="";
        document.getElementById("tbdetallesvulnerabilidades").innerHTML="";
        document.getElementById("tbRepTiemposxAgente").innerHTML="";
        document.getElementById("tbtodos").innerHTML="";
        document.getElementById("ulpaginacion").innerHTML="";
	var a=document.getElementById("divrepgeneral");
        a.style.display = 'none';
	var b=document.getElementById("divrepconferencia");
        b.style.display = 'none';
	var c=document.getElementById("divtiemposporagente");
        c.style.display = 'none';
        var d=document.getElementById("divfecha1");
        d.style.display = 'inline';
        var e=document.getElementById("divfecha2");
        e.style.display = 'inline';
	var f=document.getElementById("divreptotal");
        f.style.display = 'none';
        var g=document.getElementById("mi-chart-1");
        g.style.display = 'none';
        var h=document.getElementById("divdetallesvulnerabilidades");
        h.style.display = 'none';
        var i=document.getElementById("formgrouppie1");
        i.style.display = 'none';
        var j=document.getElementById("formgrouppie2");
        j.style.display = 'none';
        
	//Asesores();
}

function start(){
	var a=document.getElementById("divrepconferencia");
        a.style.display = 'none';
        //var login=document.getElementById("login").innerHTML;
        //$.getJSON("gestor-jmysql.php",{ cuenta: login }, logica );
        var login="";
        $.getJSON("reporteria-jmysql.php",{ cuenta: login }, principal );
}

function principal(json){
        var tb=document.getElementById("tbgeneral");
        var ids=document.getElementById("idsubmit");
        for(i=0 ; i<json.length ; i++){
                //total+=Number(res[i]);
		console.log("principal: json[i].ncompleto="+json[i].ncompleto);
                var tr   = document.createElement("tr");
                var td0  = document.createElement("td");
                var td01 = document.createElement("td");
                var td1  = document.createElement("td");
                var td2  = document.createElement("td");
                var td3  = document.createElement("td");
                var td4  = document.createElement("td");
                var td5  = document.createElement("td");
                var td6  = document.createElement("td");
                var td7  = document.createElement("td");
                var td8  = document.createElement("td");
                var td9  = document.createElement("td");
                var td10 = document.createElement("td");
                var td11 = document.createElement("td");
                var td12 = document.createElement("td");
                var td14 = document.createElement("td");
                var td15 = document.createElement("td");
                var td16 = document.createElement("td");
                var td17 = document.createElement("td");
                var td18 = document.createElement("td");
                var td19 = document.createElement("td");
                var td20 = document.createElement("td");
                var tdChk= document.createElement("td");
                var a1   = document.createElement("a");
                var tn0  = document.createTextNode(json[i].id);
                var tn01 = document.createTextNode(json[i].fechagestion);
                var tn1  = document.createTextNode(json[i].ncompleto);
                var tn2  = document.createTextNode(json[i].ncelular);
                var tn3  = document.createTextNode(json[i].colegio);
                var tn4  = document.createTextNode(json[i].ncasa);
                var tn5  = document.createTextNode(json[i].grado);
                var tn6  = document.createTextNode(json[i].seccion);
                var tn7  = document.createTextNode(json[i].sector);
                var tn8  = document.createTextNode(json[i].fechaconf);
                var tn9  = document.createTextNode(json[i].codigo);
                var tn10 = document.createTextNode(json[i].estado);
                var tn11 = document.createTextNode(json[i].agendadofecha);
                var tn12 = document.createTextNode(json[i].resultado);
                var tn14 = document.createTextNode(json[i].extension);
                var tn15 = document.createTextNode(json[i].gruposuper);
                var tn16 = document.createTextNode(json[i].nombre_ap1);
                var tn17 = document.createTextNode(json[i].telefono_ap1);
                var tn18 = document.createTextNode(json[i].nombre_ap2);
                var tn19 = document.createTextNode(json[i].telefono_ap2);
                var tn20 = document.createTextNode(json[i].comentario);
                var span20 = document.createElement('span');
                var span21 = document.createElement('span');
                var b1     = document.createElement('button');
		var check  = document.createElement('input');
		check.type = "checkbox";
		check.name = "lista";
		check.value= json[i].id;
		check.id   = json[i].id;
                span20.className = "glyphicon glyphicon-pencil";
                span21.className = "glyphicon glyphicon-remove";
                a1.href=json[i].enlace;
		//http://IP/GestorPBF/grabaciones/inbound/
                a1.id="ida"+i;
                b1.setAttribute("data-toggle","modal");
                b1.setAttribute("data-target","#modalDescargar");
                b1.className="btn btn-info btn-sm";
                b1.setAttribute("onclick","editarUsuario("+json[i].username+")");
                //b1.setAttribute("onclick","editarUsuario("+json[i].username+")");
                //a1.data-toggle="modal";
                //a1.data-target="#myModal";
                //a1.appendChild(span20);
                td1.id="un"+i;
                td0.appendChild(tn0);
                td01.appendChild(tn01);
                td1.appendChild(tn1);
                td2.appendChild(tn2);
                td3.appendChild(tn3);
                td4.appendChild(tn4);
                td5.appendChild(tn5);
                td6.appendChild(tn6);
                td7.appendChild(tn7);
                td8.appendChild(tn8);
                td9.appendChild(tn9);
                td10.appendChild(tn10);
                td11.appendChild(tn11);
                td12.appendChild(tn12);
                td14.appendChild(tn14);
                td15.appendChild(tn15);
                td16.appendChild(tn16);
                td17.appendChild(tn17);
                td18.appendChild(tn18);
                td19.appendChild(tn19);
                td20.appendChild(tn20);
                b1.innerHTML='Descargar';
                //td20.appendChild(b1);
                tdChk.appendChild(check);
                tr.appendChild(td0);
                tr.appendChild(td01);
                tr.appendChild(td1);
                tr.appendChild(td2);
                tr.appendChild(td3);
                tr.appendChild(td4);
                tr.appendChild(td5);
                tr.appendChild(td6);
                tr.appendChild(td7);
                tr.appendChild(td8);
                tr.appendChild(td9);
                tr.appendChild(td10);
                tr.appendChild(td11);
                tr.appendChild(td12);
                tr.appendChild(td14);
                tr.appendChild(td15);
                tr.appendChild(td16);
                tr.appendChild(td17);
                tr.appendChild(td18);
                tr.appendChild(td19);
                tr.appendChild(td20);
                tr.appendChild(tdChk);
                tb.appendChild(tr);
        }
}


function principalTodos(json){
        var tb=document.getElementById("tbtodos");
	var ids=document.getElementById("idsubmit");
	var treg='';
	var regxp='';
	var p='';
	var tpag = '';
        for(i=0 ; i<json.length ; i++){
                //total+=Number(res[i]);
		treg=json[i].totalregistros;
		regxp=json[i].regxpagina;
		p=json[i].pagina;
		//console.log("principalTodos: json[i].ncompleto="+json[i].ncompleto+" ,treg="+treg+" ,regxp="+regxp+",p="+p);
                var tr   = document.createElement("tr");
                var td0  = document.createElement("td");
                var td01 = document.createElement("td");
                var td1  = document.createElement("td");
                var td2  = document.createElement("td");
                var td3  = document.createElement("td");
                var td4  = document.createElement("td");
                var td5  = document.createElement("td");
                var td6  = document.createElement("td");
                var td7  = document.createElement("td");
                var td8  = document.createElement("td");
                var td9  = document.createElement("td");
                var td10 = document.createElement("td");
                var td11 = document.createElement("td");
                var td12 = document.createElement("td");
                var td14 = document.createElement("td");
                var td15 = document.createElement("td");
                var td16 = document.createElement("td");
                var td17 = document.createElement("td");
                var td18 = document.createElement("td");
                var td19 = document.createElement("td");
                var td20 = document.createElement("td");
                var td21 = document.createElement("td");
                var tdChk= document.createElement("td");
                var a1   = document.createElement("a");
                var tn0  = document.createTextNode(json[i].id);
                var tn01 = document.createTextNode(json[i].fechagestion);
                var tn1  = document.createTextNode(json[i].ncompleto);
                var tn2  = document.createTextNode(json[i].ncelular);
                var tn3  = document.createTextNode(json[i].colegio);
                var tn4  = document.createTextNode(json[i].ncasa);
                //var tn5  = document.createTextNode(json[i].grado);
                //var tn6  = document.createTextNode(json[i].seccion);
                var tn7  = document.createTextNode(json[i].sector);
                var tn8  = document.createTextNode(json[i].fechaconf);
                var tn9  = document.createTextNode(json[i].codigo);
                var tn10 = document.createTextNode(json[i].estado);
                var tn11 = document.createTextNode(json[i].agendadofecha);
                var tn12 = document.createTextNode(json[i].resultado);
                var tn14 = document.createTextNode(json[i].extension);
                var tn15 = document.createTextNode(json[i].gruposuper);
                var tn16 = document.createTextNode(json[i].nombre_ap1);
                var tn17 = document.createTextNode(json[i].telefono_ap1);
                var tn18 = document.createTextNode(json[i].nombre_ap2);
                var tn19 = document.createTextNode(json[i].telefono_ap2);
                var tn20 = document.createTextNode(json[i].comentario);
                var span20 = document.createElement('span');
                var span21 = document.createElement('span');
                var b1     = document.createElement('button');
                var b2     = document.createElement('input');
		var check  = document.createElement('input');
		let cadena = ""+json[i].extension+"|"+json[i].colegio+"|"+json[i].codigo+"|"+json[i].ncompleto+"|"+json[i].fechaconf+"|"+json[i].finalres+"|"+json[i].estado+"|"+json[i].gruposuper+"|"+json[i].sector+"|"+json[i].nombre_ap1+"|"+json[i].telefono_ap1+"|"+json[i].nombre_ap2+"|"+json[i].telefono_ap2;
		let cadena2=[];
		cadena2[0]=json[i].id;
		cadena2[1]=json[i].colegio;
		cadena2[2]=json[i].codigo;
		cadena2[3]=json[i].ncompleto;
		check.type = "checkbox";
		check.name = "lista";
		check.value= json[i].id;
		check.id   = json[i].id;
                span20.className = "glyphicon glyphicon-pencil";
                span21.className = "glyphicon glyphicon-remove";
                a1.href=json[i].enlace;
		//http://IP/GestorPBF/grabaciones/inbound/
                a1.id="ida"+i;
                b1.setAttribute("data-toggle","modal");
                b1.setAttribute("data-target","#modalDescargar");
                b1.className="btn btn-info btn-sm";
                b1.setAttribute("onclick","editarUsuario("+json[i].username+")");
                //b1.setAttribute("onclick","editarUsuario("+json[i].username+")");
                //a1.data-toggle="modal";
                //a1.data-target="#myModal";
		//a1.appendChild(span20);
		b2.setAttribute('type', 'button');
		b2.value="Ver";
                b2.setAttribute("data-toggle","modal");
                b2.setAttribute("data-target","#modalVer");
                b2.className="btn btn-info btn-sm";
                //b2.setAttribute("onclick","verDetalles("+json[i].id+")");
		console.log("************ principalTodos: id: "+json[i].id);
		b2.setAttribute("onclick","verDetalles("+json[i].id+")");
                td1.id="un"+i;
                td0.appendChild(tn0);
                td01.appendChild(tn01);
                td1.appendChild(tn1);
                td2.appendChild(tn2);
                td3.appendChild(tn3);
                td4.appendChild(tn4);
                //td5.appendChild(tn5);
                //td6.appendChild(tn6);
                td7.appendChild(tn7);
                td8.appendChild(tn8);
                td9.appendChild(tn9);
                td10.appendChild(tn10);
                td11.appendChild(tn11);
                td12.appendChild(tn12);
                td14.appendChild(tn14);
                td15.appendChild(tn15);
                td16.appendChild(tn16);
                td17.appendChild(tn17);
                td18.appendChild(tn18);
                td19.appendChild(tn19);
                td20.appendChild(tn20);
                td21.appendChild(b2);
                b1.innerHTML='Descargar';
                //td20.appendChild(b1);
                tdChk.appendChild(check);
                tr.appendChild(td0);
                tr.appendChild(td01);
                tr.appendChild(td1);
                tr.appendChild(td2);
                tr.appendChild(td3);
                tr.appendChild(td4);
                //tr.appendChild(td5);
                //tr.appendChild(td6);
                tr.appendChild(td7);
                tr.appendChild(td8);
                tr.appendChild(td9);
                tr.appendChild(td10);
                tr.appendChild(td11);
                tr.appendChild(td12);
                tr.appendChild(td14);
                tr.appendChild(td15);
                tr.appendChild(td16);
                tr.appendChild(td17);
                tr.appendChild(td18);
                tr.appendChild(td19);
                //tr.appendChild(td20);
                tr.appendChild(tdChk);
                tr.appendChild(td21);
                tb.appendChild(tr);
	}
	tpag = Math.ceil(treg/regxp);
	console.log("principalTodos: total_paginas="+tpag);
	creaPaginacion(tpag,p,regxp);
}


function getReportes2(json){
        var tb=document.getElementById("tbRepTiemposxAgente");
	var ids=document.getElementById("idsubmit");
        for(i=0 ; i<json.length ; i++){
                console.log("getReportes2: json[i].nombre="+json[i].nombre);
                console.log("getReportes2: json[i].query="+json[i].query);
                var tr   = document.createElement("tr");
                var td1  = document.createElement("td");
                var td2  = document.createElement("td");
                var td3  = document.createElement("td");
                var td4  = document.createElement("td");
                var td5  = document.createElement("td");
                var td6  = document.createElement("td");
                var td7  = document.createElement("td");
                var td8  = document.createElement("td");
                var td9  = document.createElement("td");
                var td10 = document.createElement("td");
                var td11 = document.createElement("td");
                var tn1  = document.createTextNode(json[i].contactos);
                var tn2  = document.createTextNode(json[i].nombre);
                var tn3  = document.createTextNode(json[i].agente);
                var tn4  = document.createTextNode(json[i].tmring);
                var tn5  = document.createTextNode(json[i].tconversacion);
                var tn6  = document.createTextNode(json[i].tmconversacion);
                var tn7  = document.createTextNode(json[i].tdescanso);
                var tn8  = document.createTextNode(json[i].tmdescanso);
                var tn9 = document.createTextNode(json[i].tgestion);
                var tn10 = document.createTextNode(json[i].tacw);
                var tn11 = document.createTextNode(json[i].tmacw);
                td1.appendChild(tn1);
                td2.appendChild(tn2);
                td3.appendChild(tn3);
                td4.appendChild(tn4);
                td5.appendChild(tn5);
                td6.appendChild(tn6);
                td7.appendChild(tn7);
                td8.appendChild(tn8);
                td9.appendChild(tn9);
                td10.appendChild(tn10);
                td11.appendChild(tn11);
                tr.appendChild(td1);
                tr.appendChild(td2);
                tr.appendChild(td3);
                tr.appendChild(td4);
                tr.appendChild(td5);
                tr.appendChild(td6);
                tr.appendChild(td7);
                tr.appendChild(td8);
                tr.appendChild(td9);
                tr.appendChild(td10);
                tr.appendChild(td11);
                tb.appendChild(tr);
        }
}




function descargar(){

}


function Asesores(){
        var gr=document.getElementById("tipousuario").innerHTML;
	console.log("Asesores:grupo="+gr);
        $.getJSON("reporteria-getAsesores.php",{ grupo: gr }, obtieneAsesores );
}
function obtieneAsesores(json){
        //var fn=json[0].finalres;
        document.getElementById("asesores").innerHTML = "";
        var select = document.getElementById("asesores");

                        console.log("obtieneAsesores:");
                        var opt0 = document.createElement('option');
                        opt0.id = "Todos";
                        opt0.value = "Todos";
                        opt0.appendChild( document.createTextNode("Todos"));
                        //opt0.disabled = true;
                        opt0.selected = true;
			select.appendChild(opt0);
                        for(i=0 ; i<json.length ; i++){
                                var opt = document.createElement('option');
                                opt.appendChild( document.createTextNode(json[i].usuario) );
                                opt.value = json[i].usuario;
                                //opt.id    = json[i].;
                                select.appendChild(opt);
                        }
}


function checkReporte(){
	var fin=document.getElementById("reporte").value;
        console.log("checkReporte:final="+fin);
        if(fin=='1'){
                //document.getElementById("finales").selectedIndex     = "0";
                //document.getElementById("finales").readOnly     = true;
        	var c=document.getElementById("divfecha1");
	        c.style.display = 'inline';
	        var d=document.getElementById("divfecha2");
	        d.style.display = 'inline';
                document.getElementById("finales").disabled     = true;
		//alert("finaaaaal");
	}else if(fin=='3'){
        	var c=document.getElementById("divfecha1");
	        c.style.display = 'inline';
	        var d=document.getElementById("divfecha2");
	        d.style.display = 'inline';
                document.getElementById("finales").disabled     = false;
	}	

}

function reportes(){
        document.getElementById("tbgeneral").innerHTML="";
        document.getElementById("tbconfer").innerHTML="";
        document.getElementById("tbdetallesvulnerabilidades").innerHTML="";
        document.getElementById("tbRepTiemposxAgente").innerHTML="";
        document.getElementById("tbtodos").innerHTML="";
        document.getElementById("ulpaginacion").innerHTML="";
        var A=document.getElementById("divrepgeneral");
        A.style.display = 'none';
        var B=document.getElementById("divrepconferencia");
        B.style.display = 'none';
        var C=document.getElementById("divdetallesvulnerabilidades");
        C.style.display = 'none';
        var D=document.getElementById("divtiemposporagente");
        D.style.display = 'none';
        var E=document.getElementById("divreptotal");
        E.style.display = 'none';
        var programa="";
        var reporte=document.getElementById("reporte").value;
	//var usu    =document.getElementById("usuario").value;
	var pa = 1;
	var li = 6;
        switch(reporte){
                case '1':
        	  document.getElementById("finales").readOnly = true;
                  var anexo='';
                  console.log("reporte="+reporte);
                  //programa="http://192.168.1.178:8000/consulta1/";
                  programa="http://10.221.93.147:8000/consulta1/";
                  var a=document.getElementById("divrepconferencia");
                  a.style.display = 'inline';
                  //var sec=document.getElementById("sectores").value;
                  //var ase=document.getElementById("asesores").value;
                  var f1=document.getElementById("fecha1").value;
                  var f2=document.getElementById("fecha2").value;
		  if(f1==''){ f1="2019-06-01";}
		  if(f2==''){ f2="2022-12-30";}
                  $.getJSON(programa,{ }, getRepConferencias );
                  break;
		case '4':
                  //document.getElementById("finales").readOnly = true;
                  graficaPie2();
                  verGraficaPieVulnerabilidades();
                  var g=document.getElementById("mi-chart-1");
                  g.style.display = 'inline';
                  var anexo='';
                  console.log("reporte="+reporte);
                  //programa="http://192.168.1.178:8000/detallevulnerabilidad/";
                  programa="http://10.221.93.147:8000/detallevulnerabilidad/";
                  var a=document.getElementById("divdetallesvulnerabilidades");
                  a.style.display = 'inline';
                  var b=document.getElementById("formgrouppie1");
                  b.style.display = 'inline';
                  var c=document.getElementById("formgrouppie2");
                  c.style.display = 'inline';
                  var f1=document.getElementById("fecha1").value;
                  var f2=document.getElementById("fecha2").value;
                  if(f1==''){ f1="2019-06-01";}
                  if(f2==''){ f2="2022-12-30";}
                  //console.log("reportes:="+reporte+" sector="+sec);
                  //console.log("reportes:case 1:fecha1="+f1+" fecha2="+f2);
                  //compartimento="";
                  $.getJSON(programa,{ }, getDetallesVulnerabilidades );
                  break;					   
                case '2':
                  var anexo='';
                  console.log("reporte="+reporte);
                  programa="reportes-tiemposdeEstadoPoragente.php";
                  var b=document.getElementById("divtiemposporagente");
                  b.style.display = 'inline';
                  var f1=document.getElementById("fecha1").value;
                  var f2=document.getElementById("fecha2").value;
                  console.log("reportes:case 2:fecha1="+f1+" fecha2="+f2);
                  $.getJSON(programa,{ cuenta:anexo , fecha1:f1, fecha2:f2 }, getReportes2 );
                  break;
                case '3':
                  var anexo='';
                  console.log("reporte="+reporte);
                  programa="reporteria-jmysql.php";
                  var c=document.getElementById("divrepgeneral");
                  c.style.display = 'inline';
                  var fin=document.getElementById("finales").value;
                  var sec=document.getElementById("sectores").value;
                  var ase=document.getElementById("asesores").value;
                  //var f1=document.getElementById("fecha1").value+" 00:00:00";
                  //var f2=document.getElementById("fecha2").value+" 23:59:59";
                  var f1=document.getElementById("fecha1").value;
                  var f2=document.getElementById("fecha2").value;
		  if(f1==''){ f1="2019-06-01";}
		  if(f2==''){ f2="2024-12-30";}
                  console.log("reportes:case 3:reporte="+reporte+" finales="+fin+" sector="+sec+" asesores="+ase);
                  console.log("reportes:case 3:fecha1="+f1+" fecha2="+f2);
                  $.getJSON(programa,{ cuenta:anexo ,finales:fin , sectores:sec , usuario:usu , asesores:ase , fecha1:f1, fecha2:f2 }, principal );
                  break;
		  //break;
		case '5':
                  var anexo='';
                  console.log("reporte="+reporte+" , pa="+pa+" li="+li);
                  //programa="reporteria-total.php";
                  programa="";
                  var c=document.getElementById("divreptotal");
                  c.style.display = 'inline';
                  //$.getJSON(programa,{ cuenta:anexo, pagina:pa, limite:li }, principalTodos );
                  $.getJSON(programa,{ cuenta:anexo, pagina:pa, limite:li }, principalTodos );
		  break;

                default:
                  break;
        }
        //var anexo='9530';
        //$.getJSON(programa,{ cuenta:anexo }, getReportes1 );
        //$.getJSON("reportes-logContactos.php",{ cuenta:anexo }, getReportes1 );
}


function getDetallesVulnerabilidades(json){
        var tb=document.getElementById("tbdetallesvulnerabilidades");
        for(i=0 ; i<json.length ; i++){
                console.log("compartment_id="+json[i].compartment_id);
                var tr   = document.createElement("tr");
                var td1  = document.createElement("td");
                var td2  = document.createElement("td");
                var td3  = document.createElement("td");
                var td4  = document.createElement("td");
                var td5  = document.createElement("td");
                var td6  = document.createElement("td");
                var td7  = document.createElement("td");
                var td8  = document.createElement("td");
                var td9  = document.createElement("td");
                var td10 = document.createElement("td");
                var td11 = document.createElement("td");
                var tdEditar  = document.createElement("td");
                var tdChk     = document.createElement("td");
                var tn1  = document.createTextNode(json[i].authentication);
                var tn2  = document.createTextNode(json[i].cve_reference);
                var tn3  = document.createTextNode(json[i].cvss3);
                var tn4  = document.createTextNode(json[i].impacted_resources_host_count);
                var tn5  = document.createTextNode(json[i].impacted_resources_image_count);
                var tn6  = document.createTextNode(json[i].name);
                var tn7  = document.createTextNode(json[i].severity);
                var tn8 = document.createTextNode(json[i].state);
                var tn9 = document.createTextNode(json[i].idvulnerabilidad);
                var tn10  = document.createTextNode(json[i].cve_description);
                var tn11  = document.createTextNode(json[i].description);
                var tnEditar  = document.createTextNode("");
                var check  = document.createElement('input');
                check.type = "checkbox";
                check.name = "lista";
                check.value= json[i].id;
                check.id   = json[i].id;
                tr.className="active";
                td1.appendChild(tn1);
                td2.appendChild(tn2);
                td3.appendChild(tn3);
                td4.appendChild(tn4);
                td5.appendChild(tn5);
                td6.appendChild(tn6);
                td7.appendChild(tn7);
                td8.appendChild(tn8);
                td9.appendChild(tn9);
                td10.appendChild(tn10);
                td11.appendChild(tn11);
                tdEditar.appendChild(tnEditar);
                tdChk.appendChild(check);
		td1.appendChild(tn1);
                td2.appendChild(tn2);
                td3.appendChild(tn3);
                td4.appendChild(tn4);
                td5.appendChild(tn5);
                td6.appendChild(tn6);
                td7.appendChild(tn7);
                td8.appendChild(tn8);
                td9.appendChild(tn9);
                td10.appendChild(tn10);
                td11.appendChild(tn11);
                tdEditar.appendChild(tnEditar);
                tdChk.appendChild(check);
                //tr.appendChild(td0);
                tr.appendChild(td1);
                tr.appendChild(td2);
                tr.appendChild(td3);
                tr.appendChild(td4);
                tr.appendChild(td5);
                tr.appendChild(td6);
                tr.appendChild(td7);
                tr.appendChild(td8);
                tr.appendChild(td9);
                tr.appendChild(td10);
                tr.appendChild(td11);
                tr.appendChild(tdEditar);
                tr.appendChild(tdChk);
                tb.appendChild(tr);
	}
}


function getRepConferencias(json){
        //var aa=document.getElementById("divrepconferencia");
        //aa.style.display = 'inline';
        //var b=document.getElementById("divrepgeneral");
        //b.style.display = 'none';
        var tb=document.getElementById("tbconfer");
        for(i=0 ; i<json.length ; i++){
		console.log("compartment_id="+json[i].compartment_id);
                var tr   = document.createElement("tr");
                //var td0  = document.createElement("td");
                var td1  = document.createElement("td");
                var td2  = document.createElement("td");
                var td3  = document.createElement("td");
                var td4  = document.createElement("td");
                var td5  = document.createElement("td");
                var td6  = document.createElement("td");
                var td7  = document.createElement("td");
                var td8  = document.createElement("td");
                var td9  = document.createElement("td");
                var td10 = document.createElement("td");
                var tdEditar  = document.createElement("td");
                var tdChk     = document.createElement("td");
                console.log("json.agente="+json[i].agente);
                console.log("json.fecha="+json[i].fecha);
                //var tn0  = document.createTextNode(json[i].compartment_id);
                var tn1  = document.createTextNode(json[i].cve_reference);
                var tn2  = document.createTextNode(json[i].host_count);
                var tn3  = document.createTextNode(json[i].idv);
                var tn4  = document.createTextNode(json[i].lifecycle_state);
                var tn5  = document.createTextNode(json[i].name_cve);
                var tn6  = document.createTextNode(json[i].severity);
                var tn7  = document.createTextNode(json[i].state);
                var tn8  = document.createTextNode(json[i].time_first_detected);
                var tn9  = document.createTextNode(json[i].time_last_detected);
                var tn10 = document.createTextNode(json[i].vulnerability_type);
		var tnEditar  = document.createTextNode("");
		var check  = document.createElement('input');
		check.type = "checkbox";
		check.name = "lista";
		check.value= json[i].id;
		check.id   = json[i].id;
                tr.className="active";
                //td0.appendChild(tn0);
                td1.appendChild(tn1);
                td2.appendChild(tn2);
                td3.appendChild(tn3);
                td4.appendChild(tn4);
                td5.appendChild(tn5);
                td6.appendChild(tn6);
                td7.appendChild(tn7);
                td8.appendChild(tn8);
                td9.appendChild(tn9);
                td10.appendChild(tn10);
                tdEditar.appendChild(tnEditar);
                tdChk.appendChild(check);
                //tr.appendChild(td0);
                tr.appendChild(td1);
                tr.appendChild(td2);
                tr.appendChild(td3);
                tr.appendChild(td4);
                tr.appendChild(td5);
                tr.appendChild(td6);
                tr.appendChild(td7);
                tr.appendChild(td8);
                tr.appendChild(td9);
                tr.appendChild(td10);
                tr.appendChild(tdEditar);
                tr.appendChild(tdChk);
                tb.appendChild(tr);
	}
}


function setUsado(){
                 var items=document.getElementsByName('lista');
                 var selectedItems="";
                 for(var i=0; i<items.length; i++){
                         if(items[i].type=='checkbox' && items[i].checked==true){
                                 //selectedItems+=items[i].value+"\n";
                                selectedItems+=items[i].value+"-";
                                console.log(selectedItems);
                                $.getJSON("reporteria-setUsado.php",{ tramaid: selectedItems }, reporteriaSetusado );
                         }
                }
                 alert("Los registros fueron cambiados!");
                 location.reload();
}

function reporteriaSetusado(json){
}

function setRegistroNuevo(){
		var items=document.getElementsByName('lista');
		var selectedItems="";
		for(var i=0; i<items.length; i++){
			if(items[i].type=='checkbox' && items[i].checked==true){
				//selectedItems+=items[i].value+"\n";
				selectedItems+=items[i].value+"-";
				console.log(selectedItems);
        			$.getJSON("reporteria-editar.php",{ tramaid: selectedItems }, reporteriaEditado );
			}
		}
		alert("Los registros fueron cambiados!");
		location.reload();
}




function reporteriaEditado(json){}



function setRegistroEliminado(){
                var items=document.getElementsByName('lista');
		var selectedItems="";
		var u=document.getElementById("usuariooculto").innerHTML;
		console.log("setRegistroEliminado: usuario="+u);
                for(var i=0; i<items.length; i++){
                        if(items[i].type=='checkbox' && items[i].checked==true){
                                //selectedItems+=items[i].value+"\n";
                                selectedItems+=items[i].value+"-";
                                console.log(selectedItems);
                                $.getJSON("reporteria-eliminado.php",{ tramaid: selectedItems ,usuario: u  }, reporteriaEditado2 );
                        }
                }
                alert("Los registros fueron eliminados!");
                location.reload();
}




function reporteriaEditado2(json){}


function toggle(source) {
  checkboxes = document.getElementsByName('lista');
  for(var i=0, n=checkboxes.length;i<n;i++) {
    checkboxes[i].checked = source.checked;
  }
}


function setVentaFinal(){

                var items=document.getElementsByName('lista');
                var selectedItems="";
                for(var i=0; i<items.length; i++){
                        if(items[i].type=='checkbox' && items[i].checked==true){
                                //selectedItems+=items[i].value+"\n";
                                selectedItems+=items[i].value+"-";
                                console.log(selectedItems);
                                $.getJSON("reporteria-ventafinal.php",{ tramaid: selectedItems }, reporteriaVentafinal );
                        }
                }
                //document.getElementById("reporte").selectedIndex     = "0";
                alert("Los registros fueron cambiados!");
                location.reload();
}


function setVentaConf(){

                var items=document.getElementsByName('lista');
                var selectedItems="";
                for(var i=0; i<items.length; i++){
                        if(items[i].type=='checkbox' && items[i].checked==true){
                                //selectedItems+=items[i].value+"\n";
                                selectedItems+=items[i].value+"-";
                                console.log(selectedItems);
                                $.getJSON("reporteria-ventafinal.php",{ tramaid: selectedItems }, reporteriaVentafinal );
                        }
                }
		//document.getElementById("reporte").selectedIndex     = "0";
		alert("Los registros fueron cambiados!");
		location.reload();
}

function obtieneSelect(){
        document.getElementById("tbtodos").innerHTML="";
	var e = document.getElementById("selectRepTotal");
	var value = e.value;
	var text = e.options[e.selectedIndex].text;
	console.log("obtieneSelect: value:"+value+" , text:"+text);
        var a=document.getElementById("divreptotal");
	a.style.display = 'none';
        console.log("reporte="+reporte);
        programa="reporteria-total.php";
        var c=document.getElementById("divreptotal");
        c.style.display = 'inline';
        $.getJSON(programa,{ id:value }, principalTodos );
}

/* ver detalles de un registro en un modal elegido de la lista del reporte total */
function verDetalles(id){
	console.log("verDetalles: id="+id);
        programa="reporteria-verDetallesTotal.php";
        $.getJSON(programa,{ id:id }, getverDetalles );
}

function getverDetalles(json){
	console.log("getverDetalles: id="+json[0]+" ncompleto="+json[1]+" ncelular="+json[2]);
        document.getElementById("idver").innerHTML=json[0];
        document.getElementById("cclientever").value=json[1];
        document.getElementById("ncompletover").value=json[2];
        document.getElementById("extensionver").value=json[3];
        document.getElementById("telefono1ver").value=json[4];
        document.getElementById("telefono2ver").value=json[5];
        document.getElementById("colegiover").value=json[6];
        document.getElementById("gradover").value=json[7];
        document.getElementById("seccionver").value=json[8];
        document.getElementById("nombreap1ver").value=json[9];
        document.getElementById("telefonoap1ver").value=json[10];
        document.getElementById("nombreap2ver").value=json[11];
        document.getElementById("telefonoap2ver").value=json[12];
        document.getElementById("codigover").value=json[13];
        document.getElementById("sectorver").value=json[14];
        document.getElementById("estadover").value=json[15];
        document.getElementById("nfinalver").value=json[16];
        document.getElementById("agendadofver").value=json[17];
        document.getElementById("agendadohver").value=json[18];
        document.getElementById("fechaconfver").value=json[19];
        document.getElementById("gruposuperver").value=json[20];
        document.getElementById("comentariover").value=json[21];
        document.getElementById("fechagestionver").value=json[22];
}

function selectPaginacion(pag,regxpagina){
	var pa = pag;
	document.getElementById("ulpaginacion").innerHTML="";
	document.getElementById("tbtodos").innerHTML="";
        //var A=document.getElementById("divreptotal");
	//A.style.display = 'none';
	var anexo='';
        console.log("selectPaginacion: pag="+pag+" , li="+regxpagina);
        programa="reporteria-total.php";
        var c=document.getElementById("divreptotal");
        c.style.display = 'inline';
        //$.getJSON(programa,{ cuenta:anexo, pagina:pa, limite:li }, principalTodos );
        $.getJSON(programa,{ cuenta:anexo, pagina:pa, limite:regxpagina }, principalTodos );
}

function creaPaginacion(tpag,pagina,regxpagina){
	var ul = document.getElementById("ulpaginacion");
	console.log("creaPaginacion: pagina="+pagina);
	var total_paginas = tpag;
	var diferencia = total_paginas - pagina;
	var start_loop = pagina;
	if( diferencia <= 5){
		start_loop = total_paginas - 5;
	}
	var end_loop = start_loop + 4;
	var li = document.createElement("li");

	var aprimera = document.createElement('a');
	var textprimera = document.createTextNode("Primera");
	aprimera.appendChild(textprimera);	
	aprimera.setAttribute("onclick","selectPaginacion(1,"+regxpagina+")");
	aprimera.className="page-link";

	var aatras = document.createElement('a');
	var textatras = document.createTextNode("<<<");
	aatras.appendChild(textatras);
	aatras.setAttribute("onclick","selectPaginacion("+pagina+","+regxpagina+")");
	aatras.className="page-link";

	var aultima = document.createElement('a');
	var textultima = document.createTextNode("Ultima");
	aultima.appendChild(textultima);
	aultima.setAttribute("onclick","selectPaginacion("+tpag+","+regxpagina+")");
	aultima.className="page-link";

	var aadelante = document.createElement('a');
	var textadelante = document.createTextNode(">>>");
	aadelante.appendChild(textadelante);
	var next=0;
	next=parseInt(pagina)+parseInt(1);
	aadelante.setAttribute("onclick","selectPaginacion("+next+","+regxpagina+")");
	aadelante.className="page-link";

	/* Primera y <<< */
	if(pagina > 1){
		li.appendChild(aprimera);
		li.appendChild(aatras);
	}

	/* para total de paginas mayores de 5 se mostrara una paginacion, para menores de 5 otra*/
	if(tpag>4){
		for (var i = start_loop; i <= end_loop; i++) {
			var aloop = document.createElement('a');
			var textloop = document.createTextNode(i);
			aloop.appendChild(textloop);
			aloop.setAttribute("onclick","selectPaginacion("+pagina+","+regxpagina+")");
			aloop.className="page-link";
			li.appendChild(aloop);
			//echo "<a class='pagina' href='pagina.php?pagina=".$i."'>".$i."</a>";
		}

	}else{
		end_loop=tpag;
		start_loop=1;
		for (var i = start_loop; i <= end_loop; i++) {
			var aloop = document.createElement('a');
			var textloop = document.createTextNode(i);
			aloop.appendChild(textloop);
			aloop.setAttribute("onclick","selectPaginacion("+i+","+regxpagina+")");
			aloop.className="page-link";
			li.appendChild(aloop);
			//echo "<a class='pagina' href='pagina.php?pagina=".$i."'>".$i."</a>";
		}
	}
	/*  >>> y Ultima */
	if(pagina < end_loop){
		li.appendChild(aadelante);
		li.appendChild(aultima);
	}
	
	ul.appendChild(li);
		
}



function reporteriaVentafinal(json){}

function setVenta(){}


$(function(){
            $("#exportRepconf").click(function(){
                $("#tablaRepconf").tableToCSV();
            });
});

$(function(){
            $("#exportRepgen").click(function(){
                $("#tablaRepgen").tableToCSV();
            });
});

function verGraficaPieVulnerabilidades(){
	console.log("");
        programa="http://10.221.93.147:8000/graficavulnerabilidadriesgos/";
        $.getJSON(programa,{ }, getGraficaVulnerabilidades );
}
function colorPieVulnerabilidades(riesgo){
        let color="";
        switch(riesgo){
                case "NONE":
                        color="#3bb6b8";
                        break;
                case "LOW":
                        color="#f29b2c";
                        break;
                case "MEDIUM":
                        color="#f29b2c";
                        break;
                case "HIGH":
                        color="#f32b2b";
                        break;
                case "CRITICAL":
                        color="#b83b45";
                        break;
        }
        return color;

}
function getGraficaVulnerabilidades(json){
        let cantidad=[];
        let nombre=[];
        let colores=[];
        for(i=0 ; i<json.length ; i++){		               
                console.log("json.cant_vuln_riesgo="+json[i].cant_vuln_riesgo);
                console.log("json.nombre_riesgo_vuln="+json[i].nombre_riesgo_vuln);
                console.log("color="+colorPieVulnerabilidades(json[i].nombre_riesgo_vuln));
                cantidad[i] = json[i].cant_vuln_riesgo;
                nombre[i]   = json[i].nombre_riesgo_vuln;
                colores[i]  = colorPieVulnerabilidades(json[i].nombre_riesgo_vuln);
        }
        const coursesData = { 
		labels: nombre, 
		datasets: [{ 
			data: cantidad, 
			backgroundColor: colores, 
			}], 
		}; 

	const config = { 
		type: 'pie', 
		data: coursesData, 
		options: { 
			plugins: { 
				title: { 
					display: true, 
					text: 'Vulnerabilidades', 
					}, 
				}, 
			}, 
		}; 
	const ctx = document.getElementById('mi-chart-1').getContext('2d'); 
			
	new Chart(ctx, config); 

}

function grafica(){

    // Obtenemos el contexto del canvas que antes hemos creado
    let newChart = document.getElementById('mi-chart-1').getContext('2d');
    baseAmmount=200
    extraAnualShare=50
    totalAfter1=60
    totalAfter5=60
    totalAfter10=60
    totalAfter15=60
    totalAfter20=60
    totalAfter40=60

    new Chart(newChart, {
        type: 'line',
        data: {
            labels: ['0', 'Año 1', 'Año 5', 'Año 10', 'Año 15', 'Año 20', 'Año 40'],
            datasets: [
                {
                    label: 'Tu inversión inicial (€)',
                    data: [baseAmmount, baseAmmount, baseAmmount, baseAmmount, baseAmmount, baseAmmount, baseAmmount],
                    borderColor: ['#FF9999']
                },
                {
                    label: 'Tus inversiones periódicas (€)',
                    data: [0, extraAnualShare, extraAnualShare*5, extraAnualShare*10, extraAnualShare*15, extraAnualShare*20, extraAnualShare*40],
                    borderColor: ['#FF9999'],
                },
                {
                    label: 'Capital total (€)',
                    data: [0, totalAfter1, totalAfter5, totalAfter10, totalAfter15, totalAfter20, totalAfter40],
                    borderColor: ['#99CC99']
                }
            ]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true
                }
            },
            plugins: {
                title: {
                    display: true,
                    text: 'Evolución de tu capital (€)',
                },
            },
            elements: {
                line: {
                    tension: 0.1
                }
            }
        }
    });
}

function graficaPie(){
        const coursesData = { 
		labels: ['High', 'Medium', 'None', 'Critical', 'Low'], 
		datasets: [{ 
			data: [30, 20, 15, 10, 25], 
			backgroundColor: ['#f32b2b', '#f3952b', '#2bf0f3', '#bf2424', '#f3ee2b'], 
			}], 
		}; 

	const config = { 
		type: 'pie', 
		data: coursesData, 
		options: { 
			plugins: { 
				title: { 
					display: true, 
					text: 'Vulnerabilidades', 
					}, 
				}, 
			}, 
		}; 
	const ctx = document.getElementById('mi-chart-1').getContext('2d'); 
			
	new Chart(ctx, config); 
}

function graficaPie2(){
        const coursesData = { 
		labels: ['host1', 'host2', 'host3', 'host4', 'host5','host6', 'host7', 'host8', 'host9', 'host10'], 
		datasets: [{ 
			data: [30, 20, 15, 10, 25, 12, 3, 50, 33, 20], 
			backgroundColor: ['#f32b2b', '#f3952b', '#2bf0f3', '#bf2424', '#f3ee2b','#f32b2b', '#f3952b', '#2c51f2', '#bf2424', '#5ff22c'], 
			}], 
		}; 

	const config = { 
		type: 'pie', 
		data: coursesData, 
		options: { 
			plugins: { 
				title: { 
					display: true, 
					text: 'Host mas impactados', 
					}, 
				}, 
			}, 
		}; 
	const ctx = document.getElementById('mi-chart-2').getContext('2d'); 
			
	new Chart(ctx, config); 
}


</script>
<title>:: Oracle SDK ::</title>
</head>
<body>

<div class="panel panel-info">

  <div class="panel-body">

	{% load static %}
	<img src="{% static 'aplicacionweb1/Logo-orion-web-color.png' %}" alt="My image" width="10%" height="10%">


	<div class="pull-right">
                       <span class="panel-title btn-group">
	                    <!--button id="usuariooculto"  type="button" class="btn btn-sm"><?php echo $login_session;?></button>
	                    <button id="nlogin" ng-disabled="underCreation" type="button" class="btn btn-sm">
                            <span  class="text-primary"><strong id="tipousuario"><?php echo $tipo_session.": ".$nombre_session; ?></strong></span>
                            </button-->

                            <button ng-disabled="underCreation" type="button" class="btn btn-default btn-sm" ng-click="addUser()">
                                <span class="glyphicon glyphicon-user text-primary"></span>
                                <span class="text-primary"><strong>Usuario: {{ username }}</strong></span>
                            </button>
                            <button ng-disabled="underCreation" type="button" class="btn btn-default btn-sm" ng-click="addUser()">
                                <span class="glyphicon glyphicon-off text-primary"></span>
                                <span class="text-primary"><strong><a href="logout.php">Cerrar sesión</a></strong></span>
                            </button>
                        </span>
	</div>
  </div>

  <div class="panel-footer">

	<ul class="nav nav-tabs">
	<?php
                $tabs=getPestanas($tipo_session,$login_session);
                for($j=0;$j<count($tabs);$j++){
                        echo $tabs[$j];
                }
                ?>

	</ul>

        <!--div class="panel-group"-->

	<div class="panel panel-info">
		<div class="panel-heading">
                        <h3 class="panel-title">Reportes</h3>
  		</div>
		<div class="panel-body">

<!--===============================FORMULARIO PRINCIPAL================================================= -->
	<div class="row">
	  <div class="col-sm-4">

                <!--form id="form1" class="form-horizontal" -->
                <div class="form-horizontal" >
			<div class="form-group">
                                <label for="reporte" class="control-label col-md-4">Reportes:</label>
                                <div class="col-md-8">
                                        <!--select class="form-control" id="reporte" name="reporte"-->
                                        <select class="form-control" id="reporte" name="reporte" onchange="reportes()">
                                        <!--select class="form-control" id="reporte" name="reporte" onchange="checkReporte()"-->
                                        <option disabled="disabled" selected="selected">Seleccionar</option>
                                        <option value="1">Vulnerabilidades</option>
                                        <option value="2">Request summarized scan ports</option>
                                        <option value="3">List problems</option>
                                        <option value="4">oci vulnerability-scanning host vulnerability list --compartment-id</option>
                                        <option value="5">oci vulnerability-scanning vulnerability get  --vulnerability-id</option>
                                        <option value="6">oci vulnerability-scanning host vulnerability list-impacted-hosts --host-vulnerability-id</option>
                                        </select>
                                </div>
                        </div>

			<div class="form-group">
                                <label for="finales" class="control-label col-md-4">Compartimento:</label>
                                <div class="col-md-8">
                                        <select class="form-control" id="finales" name="finales" aria-readonly="true">
                                        <option selected="selected" value="tenant">pluzoci (root)</option>                                   
                                        
                                        </select>
                                </div>
                        </div>

                        <div class="form-group">
                                <label for="finales" class="control-label col-md-4">Severidad:</label>
                                <div class="col-md-8">
                                        <select class="form-control" id="finales" name="finales" aria-readonly="true">
                                        <option selected="selected" value="TODOS">Todos</option>                                   
                                        <option value="NONE">None</option>
                                        <option value="LOW">Low</option>
                                        <option value="MEDIUM">Medium</option>
                                        <option value="HIGH">High</option>
                                        <option value="CRITICAL">Critical</option>
                                        </select>
                                </div>
                        </div>

                        <div id="divfecha1" class="form-group">
                            <label for="fecha1" class="control-label col-md-4">Fecha inicial:</label>
                            <div class="col-md-8">
                            <input class="form-control" id="fecha1" type="date" name="fecha1" value="">
                            </div>
                        </div>

                        <div id="divfecha2"  class="form-group">
                            <label for="fecha2" class="control-label col-md-4">Fecha final:</label>
                            <div class="col-md-8">
                            <input class="form-control" id="fecha2" type="date" name="fecha2" value="">
                            </div>
                        </div>

                        <!--div class="form-group">
                            <label for="usuario" class="control-label col-md-4">Usuario:</label>
                            <div class="col-md-8">
                            <input class="form-control" id="usuario" type="text" name="usuario" value="<?php echo $tipo_session.":". $nombre_session;?>" readonly>
                            </div>
                        </div-->



                        <!--button class="btn btn-info btn-sm" name="submit1" value="submit1" onclick="reportes()">Buscar</button-->
                <!--/form-->
	  	</div>
	  </div>

	  <div class="col-sm-4">
		<div id="formgrouppie1" class="form-group"> 
                	<button type="button" class="btn btn-primary">
	                <span class="badge badge-light">120</span> Vulnerabilidades 
	                </button>
	                <button type="button" class="btn btn-primary">
	                <span class="badge badge-light">86</span> Notification 2
	                </button>
	                <button type="button" class="btn btn-primary">
	                <span class="badge badge-light">61</span> Notification 3 
	                </button>
		</div>
		<canvas id="mi-chart-1" width="80" height="80"></canvas>

	  </div>
          <div class="col-sm-4">
		<div id="formgrouppie2" class="form-group"> 
	                <button type="button" class="btn btn-primary">
	                <span class="badge badge-light">120</span> Vulnerabilidades 
	                </button>
	                <button type="button" class="btn btn-primary">
	                <span class="badge badge-light">86</span> Notification 2
	                </button>
	                <button type="button" class="btn btn-primary">
	                <span class="badge badge-light">61</span> Notification 3 
	                </button>
		</div>
		<canvas id="mi-chart-2" width="100" height="100"></canvas>

	  </div>
	</div><!--row -->



<!--===============================REPORTE GENERAL============================================ -->

<div id="divrepgeneral"  class="container-fluid">


	
	<button type="submit" class="btn btn-success btn-sm" name="cambiarRN" value=""  onclick="setRegistroNuevo()">cambiar a registro Nuevo</button>
	<button type="submit" class="btn btn-success btn-sm" name="cambiarRE" value=""  onclick="setRegistroEliminado()">cambiar a registro Eliminado</button>
	<button   class="btn btn-success btn-sm"  id="exportRepgen" data-export="exportRepgen" autofocus>Exportar a CSV</button>

	<div class="table-responsive">
	<table  id="tablaRepgen" class="table table-bordered table-hover table-condensed">
	<thead>
      	<tr class="info">
        	<th>ID</th>
        	<th>Gestión</th>
        	<th>Nombre</th>
	        <th>Celular</th>
	        <th>Colegio</th>
	        <th># Casa</th>
	        <th>Grado</th>
	        <th>Secc.</th>
	        <th>Sector</th>
	        <th>Fecha conf.</th>
	        <th>Código</th>
	        <th>Estado</th>
	        <th>Agendado</th>
	        <th>Final</th>
	        <th>Agente</th>
	        <th>Grupo</th>
	        <th>Nombre apod.1</th>
	        <th>Telf. apod.1</th>
	        <th>Nombre apod.2</th>
	        <th>Telf. apod.2</th>
	        <th>Comentario</th>
	        <th><input type="checkbox" onClick="toggle(this)" /> Selec.<br/></th>
        </tr>
        </thead>
	<tbody id="tbgeneral">
	</tbody>
	</table>
	</div>
</div> 

<!--===============================REPORTE GENERAL TOTAL============================================ -->

<div id="divreptotal"  class="container">

	<div class="row justify-content-md-center">

	<div class="col-6 espaciobotones"><button type="submit" class="btn btn-success btn-sm" name="cambiarRN" value="" onclick="setRegistroNuevo()">cambiar a registro Nuevo</button></div>
	<div class="col-1 espaciobotones"><button type="submit" class="btn btn-success btn-sm" name="cambiarRE" value=""  onclick="setRegistroEliminado()">cambiar a registro Eliminado</button></div>
	<div class="col-1 espaciobotones"><button   class="btn btn-success btn-sm"  id="exportRepgen" data-export="exportRepgen" autofocus>Exportar a CSV</button></div>
	<div class="col-1">

	<select id="selectRepTotal" class="selectpicker" data-show-subtext="true" data-live-search="true" onchange="obtieneSelect()")>
	<?php
	$contador=0;
	$resbuscador=buscadorBd();
        ?> 
        <option>Buscar registro..</option> 
        <?php	while($misdatos = mysqli_fetch_assoc($resbuscador)){ $contador++;?>
		<?php
       		$cadena=$misdatos["ncompleto"].",".$misdatos["ccliente"].",".$misdatos["colegio"];
		?>	
		<option  data-subtext="<?php echo $cadena; ?>"><?php echo $misdatos["id"]; ?></option>
		<?php }?>          
	</select>

	</div>

	<div class="col-1 offset-2">
		<label for="idregxpagina" class="control-label col-md-4">Mostrar:</label>
	</div>
	<div class="col-1 offset-2">
		<input class="form-control" id="idregxpagina" type="text" name="idregxpagina" value=""  size="4" readonly>	
	</div>
	<div class="col-1 offset-2">
		<label for="idregxpagina" class="control-label col-md-4">Resultados</label>
	</div>


	</div><!--row-->


	<div class="row">
	<div id="subdivreptotal" class="table-responsive">
		<table  class="table table-striped">
		<thead>
      		<tr class="info">
        		<th>Id</th>
	        	<th>Gestion</th>
        		<th>Nombre</th>
	       		<th>Celular</th>
		        <th>Colegio</th>
		        <th>Tel. Casa</th>
		        <!--0th>Grado</th>
		        <th>Secc.</th-->
		        <th>Sector</th>
		        <th>Fecha conf.</th>
		        <th>Codigo</th>
		        <th>Estado</th>
		        <th>Agendado</th>
		        <th>Final</th>
		        <th>Agente</th>
		        <th>Grupo</th>
		        <th>Nombre apod.1</th>
		        <th>Telf. apod.1</th>
		        <th>Nombre apod.2</th>
		        <th>Telf. apod.2</th>
		        <!--th>Comentario</th-->
		        <th><input type="checkbox" onClick="toggle(this)" /> Selec.<br/></th>
		        <th></th>
	        </tr>
	        </thead>
		<tbody id="tbtodos">
		</tbody>
		</table>
	</div>
	</div>
	<div class="row">
		<ul id="ulpaginacion"  class="pagination pagination-lg">
		<!--li class="page-item"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item"><a class="page-link" href="#">4</a></li>
                <li class="page-item"><a class="page-link" href="#">5</a></li-->
                </ul>
	</div>
	
</div>



<!--===============================REPORTE DE CONFERENCIAS============================================ -->


<div id="divrepconferencia" class="container-fluid">
	<h2>
	<button type="submit" class="btn btn-success btn-sm" name="cambiarVF" value=""  onclick="setVentaConf()">cambiar a venta final</button>
	<button type="submit" class="btn btn-success btn-sm" name="cambiarRU" value=""  onclick="setUsado()">cambiar a registro usado</button>
	<button   class="btn btn-success btn-sm"  id="exportRepconf" data-export="exportRepconf" autofocus>Exportar a CSV</button>
	</h2>
                        <h2></h2>
                        <p></p>
                        <div class="table-responsive">
                                <table id="tablaRepconf" class="table table-bordered table-hover table-condensed">
                                        <thead>
                                                <tr class="info">
                                                        <!--th>compartment_id</th-->
                                                        <th>cve_reference</th>
                                                        <th>host_count</th>
                                                        <th>idv</th>
                                                        <th>lifecycle_state</th>
                                                        <th>name_cve</th>
                                                        <th>severity</th>
                                                        <th>state</th>
                                                        <th>time_first_detected</th>
					        	<th>time_last_detected</th>
			        			<th>vulnerability_type</th>
                                                        <th>Editar</th>
	       						<th><input type="checkbox" onClick="toggle(this)" /> Seleccionar<br/></th>
                                                </tr>
                                        </thead>
                                        <tbody id="tbconfer">
                                        </tbody>
                                </table>
                        </div>
</div><!--container -->

<!--===============================REPORTE DE CONFERENCIAS============================================ -->


<div id="divdetallesvulnerabilidades" class="container-fluid">
        <h2>
        <!--button type="submit" class="btn btn-success btn-sm" name="cambiarVF" value=""  onclick="setVentaConf()">Detalle</button>
        <button type="submit" class="btn btn-success btn-sm" name="cambiarRU" value=""  onclick="setUsado()">Dashboard</button-->
        <button   class="btn btn-success btn-sm"  id="exportRepconf" data-export="exportRepconf" autofocus>Exportar a CSV</button>
        </h2>
                        <h2></h2>
                        <p></p>
                        <div class="table-responsive">
                                <!--table id="tabladetallevulnerabilidad" class="table table-bordered table-hover table-condensed"-->
                                <table  class="table table-striped">
                                        <thead>
                                                <tr class="info">
                                                        <!--th>compartment_id</th-->
                                                        <th>authentication</th>
                                                        <th width="100px">cve_reference</th>
                                                        <th>cvss3</th>
                                                        <th>impacted resources host count</th>
                                                        <th>impacted resources image count</th>
							<th>name</th>
                                                        <th>severity</th>
                                                        <th>status</th>
                                                        <th>id_vulnerabilidad</th>
                                                        <th>cve_description</th>
                                                        <th>description</th>
                                                        <th>Editar</th>
                                                        <th><input type="checkbox" onClick="toggle(this)" /> Seleccionar<br/></th>
                                                </tr>
                                        </thead>
                                        <tbody id="tbdetallesvulnerabilidades">
                                        </tbody>
                                </table>
                        </div>
</div><!--container -->



<!--===============================REPORTE DE TIEMPOS POR AGENTE============================================ -->


<div id="divtiemposporagente" class="container-fluid">
        <h2>
        <button   class="btn btn-success btn-sm"  id="exportRepTiemposxAgente" data-export="exportRepTiemposxAgente" autofocus>Exportar a CSV</button>
        </h2>
                        <h2></h2>
                        <p></p>
                        <div class="table-responsive">
                                <table id="tablaRepTiemposxAgente" class="table table-bordered table-hover table-condensed">
                                        <thead>
                                                <tr class="info">
                                                        <th>Contactabilidad</th>
                                                        <th>Nombre</th>
                                                        <th>Agente</th>
                                                        <th>tmring</th>
                                                        <th>tconversación</th>
                                                        <th>tmconversación</th>
                                                        <th>tdescanso</th>
                                                        <th>tmdescanso</th>
                                                        <th>tgestión</th>
                                                        <th>tacw</th>
                                                        <th>tmacw</th>
                                                </tr>
                                        </thead>
                                        <tbody id="tbRepTiemposxAgente">
                                        </tbody>
                                </table>
                        </div>
</div><!--container -->



<!--===============================MODAL DE GRABACIONES================================================= -->




<!--===============================MODAL VER DETALLES DE REGISTROS ================================================= -->


<div class="modal fade" id="modalVer" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="false">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Registro de id = <label id="idver"></label> </h5>
        <!--h5 class="modal-title" id="exampleModalLabel">Registro de id <input type="text" class="form-control" id="idver"  readonly> </h5-->
          <!--button type="button" class="close" data-dismiss="modal" aria-label="Close"-->
          <!--span aria-hidden="true">&times;</span-->
        </button>
      </div>
      <div class="modal-body">

<div class="container">

<div class="row justify-content-md-center">
     <div class="col-md-2 offset-md-2"><div class="row"><label>Codigo</label></div><div class="row"><input type="text"  id="cclientever" readonly></div></div>
     <div class="col-md-2 offset-md-2"><div class="row"><label>Nombre completo</label></div><div class="row"><input type="text" id="ncompletover" readonly></div></div>
     <div class="col-md-2 offset-md-2"><div class="row"><label>Extension</label></div><div class="row"><input type="text" id="extensionver" readonly></div></div>
</div>
<div class="row justify-content-md-center"><p></p><p></p></div>
<div class="row justify-content-md-center">
     <div class="col-md-2 offset-md-2"><div class="row"><label>Telef.1</label></div><div class="row"><input type="text" id="telefono1ver" readonly></div></div>
     <div class="col-md-2 offset-md-2"><div class="row"><label>Telef.2</label></div><div class="row"><input type="text" id="telefono2ver" readonly></div></div>
     <div class="col-md-2 offset-md-2"><div class="row"><label>Codigo</label></div><div class="row"><input type="text" id="codigover" readonly></div></div>
</div>
<div class="row justify-content-md-center"><p></p><p></p></div>
<div class="row justify-content-md-center">
     <div class="col-md-2 offset-md-2"><div class="row"><label>Colegio</label></div><div class="row"><input type="text" id="colegiover" readonly></div></div>
     <div class="col-md-2 offset-md-2"><div class="row"><label>Grado</label></div><div class="row"><input type="text" id="gradover" readonly></div></div>
     <div class="col-md-2 offset-md-2"><div class="row"><label>Seccion</label></div><div class="row"><input type="text" id="seccionver" readonly></div></div>
</div>
<div class="row justify-content-md-center"><p></p><p></p></div>
<div class="row justify-content-md-center">
     <p></p>
     <div class="col-md-2 offset-md-2"><div class="row"><label>Sector</label></div><div class="row"><input type="text" id="sectorver" readonly></div></div>
     <div class="col-md-2 offset-md-2"><div class="row"><label>Grado</label></div><div class="row"><input type="text" id="estadover" readonly></div></div>
     <div class="col-md-2 offset-md-2"><div class="row"><label>Grupo super</label></div><div class="row"><input type="text" id="gruposuperver" readonly></div></div>
</div>
<div class="row justify-content-md-center"><p></p><p></p></div>
<div class="row justify-content-md-center">
     <p></p>
     <div class="col-md-2 offset-md-1"><div class="row"><label>Apoderado 1</label></div><div class="row"><input type="text" id="nombreap1ver" readonly></div></div>
     <div class="col-md-2 offset-md-1"><div class="row"><label>Telef.</label></div><div class="row"><input type="text" id="telefonoap1ver" readonly></div></div>
     <div class="col-md-2 offset-md-1"><div class="row"><label>Apoderado 2</label></div><div class="row"><input type="text" id="nombreap2ver" readonly></div></div>
     <div class="col-md-2 offset-md-1"><div class="row"><label>Telef.</label></div><div class="row"><input type="text" id="telefonoap2ver" readonly></div></div>
</div>
<div class="row justify-content-md-center"><p></p><p></p></div>
<div class="row justify-content-md-center">
     <p></p>
     <div class="col-md-2 offset-md-1"><div class="row"><label>Fecha de Agenda</label></div><div class="row"><input type="text" id="agendadofver" readonly></div></div>
     <div class="col-md-2 offset-md-1"><div class="row"><label>Hora de Agenda</label></div><div class="row"><input type="text" id="agendadohver" readonly></div></div>
     <div class="col-md-2 offset-md-1"><div class="row"><label>Fecha conf.</label></div><div class="row"><input type="text" id="fechaconfver" readonly></div></div>
     <div class="col-md-2 offset-md-1"><div class="row"><label>Fecha gestion</label></div><div class="row"><input type="text" id="fechagestionver" readonly></div></div>
</div>
<div class="row justify-content-md-center"><p></p></div>
<div class="row justify-content-md-center">
    <div class="col-md-11 offset-md-1"><div class="row"><label>Comentario</label></div><div class="row"><input type="text" id="comentariover" style="width: 772px;" readonly></div></div> 
</div>

</div>

      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
        <!--button type="button" class="btn btn-primary">Save changes</button-->
      </div>
    </div>
  </div>
</div>







                                        
		</div><!-- panel-body-->
	</div>
	<!--/div><panel group-->
  </div>
</div>

</body>
</html>












